<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>KodNest Premium Build System</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>

<body>

    <!-- TOP BAR -->
    <header class="top-bar">
        <div class="brand-name" style="font-family: var(--font-serif); font-weight: 700; font-size: 1.2rem;">Job
            Notification Tracker</div>

        <button class="menu-toggle" id="menu-toggle">
            <i class="fas fa-bars"></i>
        </button>

        <nav class="nav-links" id="nav-links">
            <li><a href="#/" class="nav-link" data-route="home">Home</a></li>
            <li><a href="#/dashboard" class="nav-link" data-route="dashboard">Dashboard</a></li>
            <li><a href="#/saved" class="nav-link" data-route="saved">Saved</a></li>
            <li><a href="#/digest" class="nav-link" data-route="digest">Digest</a></li>
            <li><a href="#/settings" class="nav-link" data-route="settings">Settings</a></li>
            <li><a href="#/proof" class="nav-link" data-route="proof">Proof</a></li>
        </nav>
    </header>

    <div class="layout-container">
        <main class="workspace" id="app-container">

            <!-- HOME PAGE (Landing) -->
            <section id="page-home" class="page-section active">
                <div class="hero">
                    <h1>Stop Missing The Right Jobs.</h1>
                    <p class="subtext">Precision-matched job discovery delivered daily at 9AM.</p>
                    <a href="#/settings" class="btn btn-primary" style="padding: 16px 40px; font-size: 18px;">Start
                        Tracking</a>
                </div>
            </section>

            <!-- DASHBOARD PAGE -->
            <section id="page-dashboard" class="page-section">
                <div class="empty-state">
                    <i class="fas fa-briefcase"></i>
                    <h2>No jobs yet.</h2>
                    <p>In the next step, you will load a realistic dataset.</p>
                </div>
            </section>

            <!-- SAVED PAGE -->
            <section id="page-saved" class="page-section">
                <div class="empty-state">
                    <i class="fas fa-bookmark"></i>
                    <h2>Save for later.</h2>
                    <p>Jobs you mark as saved will appear here for careful review.</p>
                </div>
            </section>

            <!-- DIGEST PAGE -->
            <section id="page-digest" class="page-section">
                <div class="empty-state">
                    <i class="fas fa-envelope-open-text"></i>
                    <h2>Your Daily Digest.</h2>
                    <p>Every morning at 9AM, we'll curate the best matches for you here.</p>
                </div>
            </section>

            <!-- SETTINGS PAGE -->
            <section id="page-settings" class="page-section">
                <div class="context-header">
                    <h1>Job Preferences</h1>
                    <p class="subtext">Define your search parameters with precision.</p>
                </div>

                <div class="card">
                    <div class="settings-grid">
                        <div class="form-group">
                            <label class="input-label">Role Keywords</label>
                            <input type="text" id="kw-input" class="form-control"
                                placeholder="e.g. Senior Frontend Developer, UI Designer">
                        </div>
                        <div class="form-group">
                            <label class="input-label">Preferred Locations</label>
                            <input type="text" id="loc-input" class="form-control"
                                placeholder="e.g. Remote, San Francisco, London">
                        </div>
                        <div class="form-group">
                            <label class="input-label">Mode</label>
                            <select id="mode-select" class="form-control">
                                <option value="any">Any Mode</option>
                                <option value="remote">Remote Only</option>
                                <option value="hybrid">Hybrid</option>
                                <option value="onsite">Onsite</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label class="input-label">Experience Level</label>
                            <select id="exp-select" class="form-control">
                                <option value="any">Any Level</option>
                                <option value="junior">Entry / Junior</option>
                                <option value="mid">Mid-Level</option>
                                <option value="senior">Senior</option>
                                <option value="lead">Lead / Management</option>
                            </select>
                        </div>
                    </div>
                    <div style="margin-top: var(--space-3);">
                        <button class="btn btn-primary" onclick="saveSettings()">Update Preferences</button>
                    </div>
                </div>
            </section>

            <!-- PROOF PAGE -->
            <section id="page-proof" class="page-section">
                <div class="context-header">
                    <h1>Proof of Work</h1>
                    <p class="subtext">A collection of artifacts demonstrating system integrity.</p>
                </div>
                <div class="proof-container">
                    <i class="fas fa-file-shield"
                        style="font-size: 32px; color: var(--color-accent); margin-bottom: 16px;"></i>
                    <p>Artifact collection area. This section will store verification data.</p>
                </div>
            </section>

        </main>
    </div>

    <script>
        // --- DATASET & STATE ---
        const ALL_JOBS = [
            { id: 1, title: "Senior Frontend Developer", company: "TechScale", location: "San Francisco", mode: "remote", experience: "senior", keywords: ["frontend", "react", "javascript"] },
            { id: 2, title: "UI Designer", company: "Creative Minds", location: "London", mode: "hybrid", experience: "mid", keywords: ["design", "ui", "ux", "figma"] },
            { id: 3, title: "Backend Engineer", company: "DataFlow", location: "New York", mode: "onsite", experience: "mid", keywords: ["backend", "python", "django", "sql"] },
            { id: 4, title: "Junior Web Developer", company: "StartUp Inc", location: "Remote", mode: "remote", experience: "junior", keywords: ["frontend", "html", "css", "javascript"] },
            { id: 5, title: "Lead Software Architect", company: "Global Systems", location: "Austin", mode: "hybrid", experience: "lead", keywords: ["architecture", "system", "scale"] },
            { id: 6, title: "Product Manager", company: "Visionary", location: "Seattle", mode: "remote", experience: "senior", keywords: ["product", "management", "strategy"] },
            { id: 7, title: "Full Stack Developer", company: "WebWorks", location: "Berlin", mode: "hybrid", experience: "mid", keywords: ["frontend", "backend", "node", "react"] },
            { id: 8, title: "DevOps Engineer", company: "CloudOps", location: "Remote", mode: "remote", experience: "senior", keywords: ["devops", "aws", "docker", "kubernetes"] },
            { id: 9, title: "Mobile App Developer", company: "Apply", location: "Toronto", mode: "onsite", experience: "junior", keywords: ["mobile", "react native", "ios", "android"] },
            { id: 10, title: "Data Scientist", company: "InsightCorp", location: "San Francisco", mode: "hybrid", experience: "senior", keywords: ["data", "ml", "python", "ai"] },
            { id: 11, title: "QA Analyst", company: "CheckPoint", location: "Chicago", mode: "remote", experience: "mid", keywords: ["qa", "testing", "automation"] },
            { id: 12, title: "Marketing Web Dev", company: "AdVantage", location: "Remote", mode: "remote", experience: "junior", keywords: ["frontend", "wordpress", "cms"] },
            { id: 13, title: "Security Specialist", company: "SafeNet", location: "Remote", mode: "remote", experience: "senior", keywords: ["security", "cyber", "network"] },
            { id: 14, title: "React Specialist", company: "FrontFlow", location: "Dublin", mode: "hybrid", experience: "mid", keywords: ["react", "frontend", "hooks"] },
            { id: 15, title: "Platform Engineer", company: "Foundation", location: "Stockholm", mode: "remote", experience: "lead", keywords: ["platform", "infra", "scaling"] },
            { id: 16, title: "Growth Engineer", company: "FastTrack", location: "Remote", mode: "remote", experience: "mid", keywords: ["frontend", "analytics", "growth"] },
            { id: 17, title: "Python Developer", company: "PyLogic", location: "Paris", mode: "onsite", experience: "junior", keywords: ["python", "backend", "scripting"] },
            { id: 18, title: "Head of Engineering", company: "Unicorn", location: "San Francisco", mode: "hybrid", experience: "lead", keywords: ["management", "leadership", "engineering"] },
            { id: 19, title: "Database Admin", company: "DataCo", location: "Remote", mode: "remote", experience: "senior", keywords: ["database", "sql", "tuning"] },
            { id: 20, title: "Accessibility Expert", company: "Inclusion", location: "Remote", mode: "remote", experience: "mid", keywords: ["a11y", "frontend", "html"] }
        ];

        let state = {
            settings: JSON.parse(localStorage.getItem('jobTrackerSettings')) || {
                keywords: "",
                locations: "",
                mode: "any",
                experience: "any"
            },
            savedJobIds: JSON.parse(localStorage.getItem('savedJobIds')) || []
        };

        // --- CORE LOGIC ---
        function getMatchedJobs() {
            return ALL_JOBS.filter(job => {
                // Keyword match
                const kwMatch = state.settings.keywords === "" ||
                    state.settings.keywords.toLowerCase().split(',').some(k =>
                        job.title.toLowerCase().includes(k.trim()) ||
                        job.keywords.some(jk => jk.toLowerCase().includes(k.trim()))
                    );

                // Location match
                const locMatch = state.settings.locations === "" ||
                    state.settings.locations.toLowerCase().split(',').some(l =>
                        job.location.toLowerCase().includes(l.trim())
                    );

                // Mode match
                const modeMatch = state.settings.mode === "any" || job.mode === state.settings.mode;

                // Experience match
                const expMatch = state.settings.experience === "any" || job.experience === state.settings.experience;

                return kwMatch && locMatch && modeMatch && expMatch;
            });
        }

        // --- UI RENDERING ---
        function renderJobCard(job) {
            const isSaved = state.savedJobIds.includes(job.id);
            return `
                <div class="job-card ${isSaved ? 'saved' : ''}">
                    <div>
                        <div class="job-header">
                            <span class="job-company">${job.company}</span>
                            <span class="badge badge-match">98% Match</span>
                        </div>
                        <h3 class="job-title">${job.title}</h3>
                        <div class="job-meta">
                            <span><i class="fas fa-map-marker-alt"></i> ${job.location}</span>
                            <span><i class="fas fa-laptop-house"></i> ${job.mode}</span>
                            <span><i class="fas fa-signal"></i> ${job.experience}</span>
                        </div>
                    </div>
                    <div class="job-actions">
                        <span class="text-small" style="color: var(--color-text-muted)">Posted 2h ago</span>
                        <button class="btn-save ${isSaved ? 'active' : ''}" onclick="toggleSave(${job.id})">
                            <i class="${isSaved ? 'fas' : 'far'} fa-bookmark"></i>
                        </button>
                    </div>
                </div>
            `;
        }

        function updateUI() {
            const matchedJobs = getMatchedJobs();

            // Dashboard
            const dashboardContainer = document.querySelector('#page-dashboard');
            if (matchedJobs.length > 0) {
                dashboardContainer.innerHTML = `
                    <div class="context-header">
                        <h1>Recommended for You</h1>
                        <p class="subtext">Based on your precision preferences.</p>
                    </div>
                    <div class="job-grid">${matchedJobs.map(j => renderJobCard(j)).join('')}</div>
                `;
            } else {
                dashboardContainer.innerHTML = `
                    <div class="empty-state">
                        <i class="fas fa-search"></i>
                        <h2>No exact matches.</h2>
                        <p>Try broadening your preferences in Settings.</p>
                    </div>
                `;
            }

            // Saved Page
            const savedContainer = document.querySelector('#page-saved');
            const savedJobs = ALL_JOBS.filter(j => state.savedJobIds.includes(j.id));
            if (savedJobs.length > 0) {
                savedContainer.innerHTML = `
                    <div class="context-header">
                        <h1>Saved Opportunities</h1>
                        <p class="subtext">Your curated shortlist of high-potential roles.</p>
                    </div>
                    <div class="job-grid">${savedJobs.map(j => renderJobCard(j)).join('')}</div>
                `;
            } else {
                savedContainer.innerHTML = `
                    <div class="empty-state">
                        <i class="far fa-bookmark"></i>
                        <h2>Your shortlist is empty.</h2>
                        <p>Save jobs from the dashboard to review them later.</p>
                    </div>
                `;
            }

            // Digest Page (Top 3 Matches)
            const digestContainer = document.querySelector('#page-digest');
            const digestJobs = matchedJobs.slice(0, 3);
            if (digestJobs.length > 0) {
                digestContainer.innerHTML = `
                    <div class="context-header">
                        <h1>Daily Digest</h1>
                        <p class="subtext">The three most relevant opportunities for ${new Date().toLocaleDateString()}.</p>
                    </div>
                    <div class="job-grid">${digestJobs.map(j => renderJobCard(j)).join('')}</div>
                `;
            } else {
                digestContainer.innerHTML = `
                    <div class="empty-state">
                        <i class="fas fa-envelope-open-text"></i>
                        <h2>Nothing for today's digest.</h2>
                        <p>Update your preferences to receive better daily matches.</p>
                    </div>
                `;
            }

            // Settings Sync
            document.querySelector('#kw-input').value = state.settings.keywords;
            document.querySelector('#loc-input').value = state.settings.locations;
            document.querySelector('#mode-select').value = state.settings.mode;
            document.querySelector('#exp-select').value = state.settings.experience;
        }

        // --- ACTIONS ---
        function toggleSave(id) {
            const index = state.savedJobIds.indexOf(id);
            if (index > -1) {
                state.savedJobIds.splice(index, 1);
            } else {
                state.savedJobIds.push(id);
            }
            localStorage.setItem('savedJobIds', JSON.stringify(state.savedJobIds));
            updateUI();
        }

        function saveSettings() {
            state.settings = {
                keywords: document.querySelector('#kw-input').value,
                locations: document.querySelector('#loc-input').value,
                mode: document.querySelector('#mode-select').value,
                experience: document.querySelector('#exp-select').value
            };
            localStorage.setItem('jobTrackerSettings', JSON.stringify(state.settings));
            updateUI();
            alert("Preferences Updated.");
        }

        // --- ROUTING ---
        function handleRouting() {
            const hash = window.location.hash || '#/';
            const activeRoute = (hash === '#/') ? 'home' : hash.replace('#/', '');

            document.querySelectorAll('.page-section').forEach(section => {
                section.classList.remove('active');
            });
            const activeSection = document.getElementById(`page-${activeRoute}`);
            if (activeSection) activeSection.classList.add('active');

            document.querySelectorAll('.nav-link').forEach(link => {
                link.classList.remove('active');
                if (link.getAttribute('href') === hash) link.classList.add('active');
            });

            document.getElementById('nav-links').classList.remove('show');
        }

        window.addEventListener('hashchange', handleRouting);
        window.addEventListener('DOMContentLoaded', () => {
            handleRouting();
            updateUI();
        });

        document.getElementById('menu-toggle').addEventListener('click', () => {
            document.getElementById('nav-links').classList.toggle('show');
        });
    </script>

</body>

</html>